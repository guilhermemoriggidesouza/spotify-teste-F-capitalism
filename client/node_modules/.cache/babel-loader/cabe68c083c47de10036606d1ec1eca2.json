{"ast":null,"code":"import querystring from 'querystring';\nexport async function conectSpotifyWithCode(callbackUrl, code, urlSpotify, base64ClientIdSecrect) {\n  let formData = new FormData();\n  formData.append('code', code);\n  formData.append('grant_type', 'authorization_code');\n  formData.append('redirect_uri', callbackUrl);\n  console.lof();\n  return await fetch(urlSpotify, {\n    method: 'POST',\n    headers: {\n      'Content-Type': \"application/x-www-form-urlencoded; charset=UTF-8\",\n      'Authorization': 'Basic ' + Buffer(base64ClientIdSecrect).toString('base64')\n    },\n    body: {\n      code: code,\n      grant_type: 'authorization_code',\n      redirect_uri: formData\n    }\n  }).then(response => response.json()).then(json => {\n    console.log(1);\n    return json;\n  });\n}\nexport function loginSpotify(clientId, callbackUrl, urlSpotify) {\n  window.location.href = urlSpotify\n  /**/\n  + querystring.stringify({\n    response_type: 'code',\n    client_id: clientId,\n    scope: 'user-read-private user-read-email',\n    redirect_uri: callbackUrl\n  });\n}","map":{"version":3,"sources":["C:/Users/guilh/Desktop/client-IA-emotions/aiemotions/client/src/services/spotifyService.js"],"names":["querystring","conectSpotifyWithCode","callbackUrl","code","urlSpotify","base64ClientIdSecrect","formData","FormData","append","console","lof","fetch","method","headers","Buffer","toString","body","grant_type","redirect_uri","then","response","json","log","loginSpotify","clientId","window","location","href","stringify","response_type","client_id","scope"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,aAAxB;AAEA,OAAO,eAAeC,qBAAf,CAAqCC,WAArC,EAAkDC,IAAlD,EAAwDC,UAAxD,EAAoEC,qBAApE,EAA0F;AAC7F,MAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,EAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBL,IAAxB;AACAG,EAAAA,QAAQ,CAACE,MAAT,CAAgB,YAAhB,EAA8B,oBAA9B;AACAF,EAAAA,QAAQ,CAACE,MAAT,CAAgB,cAAhB,EAAgCN,WAAhC;AACAO,EAAAA,OAAO,CAACC,GAAR;AACA,SAAO,MAAMC,KAAK,CAACP,UAAD,EAAa;AAC3BQ,IAAAA,MAAM,EAAE,MADmB;AAE3BC,IAAAA,OAAO,EAAE;AACL,sBAAgB,kDADX;AAEL,uBAAiB,WAASC,MAAM,CAACT,qBAAD,CAAN,CAA8BU,QAA9B,CAAuC,QAAvC;AAFrB,KAFkB;AAM3BC,IAAAA,IAAI,EAAE;AACFb,MAAAA,IAAI,EAAEA,IADJ;AAEFc,MAAAA,UAAU,EAAE,oBAFV;AAGFC,MAAAA,YAAY,EAAEZ;AAHZ;AANqB,GAAb,CAAL,CAYZa,IAZY,CAYPC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAZL,EAaZF,IAbY,CAaPE,IAAI,IAAI;AACVZ,IAAAA,OAAO,CAACa,GAAR,CAAY,CAAZ;AACA,WAAOD,IAAP;AACH,GAhBY,CAAb;AAiBH;AAED,OAAO,SAASE,YAAT,CAAsBC,QAAtB,EAAgCtB,WAAhC,EAA6CE,UAA7C,EAAwD;AAC3DqB,EAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBvB;AAAU;AAAA,IACjCJ,WAAW,CAAC4B,SAAZ,CAAsB;AAClBC,IAAAA,aAAa,EAAE,MADG;AAElBC,IAAAA,SAAS,EAACN,QAFQ;AAGlBO,IAAAA,KAAK,EAAE,mCAHW;AAIlBb,IAAAA,YAAY,EAAEhB;AAJI,GAAtB,CADA;AAOH","sourcesContent":["import querystring from 'querystring'\r\n\r\nexport async function conectSpotifyWithCode(callbackUrl, code, urlSpotify, base64ClientIdSecrect){\r\n    let formData = new FormData();\r\n    formData.append('code', code);\r\n    formData.append('grant_type', 'authorization_code');\r\n    formData.append('redirect_uri', callbackUrl);\r\n    console.lof()\r\n    return await fetch(urlSpotify, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': \"application/x-www-form-urlencoded; charset=UTF-8\",\r\n            'Authorization': 'Basic '+Buffer(base64ClientIdSecrect).toString('base64')\r\n        },\r\n        body: {\r\n            code: code,\r\n            grant_type: 'authorization_code',\r\n            redirect_uri: formData\r\n        }\r\n    })\r\n    .then(response => response.json())\r\n    .then(json => {\r\n        console.log(1)\r\n        return json\r\n    })\r\n}\r\n\r\nexport function loginSpotify(clientId, callbackUrl, urlSpotify){\r\n    window.location.href = urlSpotify/**/+\r\n    querystring.stringify({\r\n        response_type: 'code',\r\n        client_id:clientId,\r\n        scope: 'user-read-private user-read-email', \r\n        redirect_uri: callbackUrl\r\n    })\r\n}"]},"metadata":{},"sourceType":"module"}
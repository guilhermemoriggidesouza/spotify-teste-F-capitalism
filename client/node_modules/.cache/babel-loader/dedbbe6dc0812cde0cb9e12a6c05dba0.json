{"ast":null,"code":"import querystring from 'querystring';\nimport request from 'request';\nexport async function conectSpotifyWithToken(callbackUrl, code, urlSpotify, base64ClientIdSecrect) {\n  return await fetch(urlSpotify, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': 'Basic ' + Buffer(base64ClientIdSecrect).toString('base64')\n    },\n    body: JSON.stringify({\n      grant_type: 'authorization_code',\n      code: code,\n      redirect_uri: callbackUrl\n    })\n  }).then(response => response.json()).then(json => {\n    json;\n  });\n}\nexport function loginSpotify(clientId, callbackUrl, urlSpotify) {\n  window.location.href = urlSpotify\n  /**/\n  + querystring.stringify({\n    response_type: 'code',\n    client_id: clientId,\n    scope: 'user-read-private user-read-email',\n    redirect_uri: callbackUrl\n  });\n}","map":{"version":3,"sources":["C:/Users/guilh/Desktop/client-IA-emotions/aiemotions/client/src/services/spotifyService.js"],"names":["querystring","request","conectSpotifyWithToken","callbackUrl","code","urlSpotify","base64ClientIdSecrect","fetch","method","headers","Buffer","toString","body","JSON","stringify","grant_type","redirect_uri","then","response","json","loginSpotify","clientId","window","location","href","response_type","client_id","scope"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,aAAxB;AACA,OAAOC,OAAP,MAAoB,SAApB;AAEA,OAAO,eAAeC,sBAAf,CAAsCC,WAAtC,EAAmDC,IAAnD,EAAyDC,UAAzD,EAAqEC,qBAArE,EAA2F;AAC9F,SAAO,MAAMC,KAAK,CAACF,UAAD,EAAc;AAC5BG,IAAAA,MAAM,EAAE,MADoB;AAE5BC,IAAAA,OAAO,EAAE;AACL,gBAAU,kBADL;AAEL,sBAAgB,kBAFX;AAGL,uBAAiB,WAASC,MAAM,CAACJ,qBAAD,CAAN,CAA8BK,QAA9B,CAAuC,QAAvC;AAHrB,KAFmB;AAO5BC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,MAAAA,UAAU,EAAE,oBADK;AAEjBX,MAAAA,IAAI,EAAEA,IAFW;AAGjBY,MAAAA,YAAY,EAAEb;AAHG,KAAf;AAPsB,GAAd,CAAL,CAaZc,IAbY,CAaPC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAbL,EAcZF,IAdY,CAcPE,IAAI,IAAI;AACVA,IAAAA,IAAI;AAAC,GAfI,CAAb;AAiBH;AAED,OAAO,SAASC,YAAT,CAAsBC,QAAtB,EAAgClB,WAAhC,EAA6CE,UAA7C,EAAwD;AAC3DiB,EAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBnB;AAAU;AAAA,IACjCL,WAAW,CAACc,SAAZ,CAAsB;AAClBW,IAAAA,aAAa,EAAE,MADG;AAElBC,IAAAA,SAAS,EAACL,QAFQ;AAGlBM,IAAAA,KAAK,EAAE,mCAHW;AAIlBX,IAAAA,YAAY,EAAEb;AAJI,GAAtB,CADA;AAOH","sourcesContent":["import querystring from 'querystring'\r\nimport request from 'request'\r\n\r\nexport async function conectSpotifyWithToken(callbackUrl, code, urlSpotify, base64ClientIdSecrect){\r\n    return await fetch(urlSpotify,  {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'Authorization': 'Basic '+Buffer(base64ClientIdSecrect).toString('base64')\r\n        },\r\n        body: JSON.stringify({\r\n            grant_type: 'authorization_code',\r\n            code: code,\r\n            redirect_uri: callbackUrl,\r\n        })\r\n    })\r\n    .then(response => response.json())\r\n    .then(json => {\r\n        json})\r\n    \r\n}\r\n\r\nexport function loginSpotify(clientId, callbackUrl, urlSpotify){\r\n    window.location.href = urlSpotify/**/+\r\n    querystring.stringify({\r\n        response_type: 'code',\r\n        client_id:clientId,\r\n        scope: 'user-read-private user-read-email', \r\n        redirect_uri: callbackUrl\r\n    })\r\n}"]},"metadata":{},"sourceType":"module"}